# План автоматизации веб-сервиса продажи туристических туров


Перечень автоматизируемых сценариев:

# UNIT - недоступно(метод черного ящика)

# API
1. Payment Gate - доступность сервиса платежей. 
Отправка POST-запроса с реквизитами APPROVED карты
Ожидаемый результат: ответ с кодом 200 и статусом “APPROVED”

Отправка POST-запроса с реквизитами DECLINED карты
Ожидаемый результат: ответ с кодом 200 и статусом “DECLINED”

Отправка POST-запроса с невалидными(отсутствующими в БД) реквизитами карты
Ожидаемый результат: ответ с кодом 400 и сообщение об ошибке

2. Credit Gate - доступность кредитного сервиса. 
Отправка POST-запроса с реквизитами APPROVED карты
Ожидаемый результат: ответ с кодом 200 и статусом “APPROVED”

Отправка POST-запроса с реквизитами DECLINED карты
Ожидаемый результат: ответ с кодом 200 и статусом “DECLINED”

Отправка POST-запроса с невалидными(отсутствующими в БД) реквизитами карты
Ожидаемый результат: ответ с кодом 400 и сообщение об ошибке

# UI
Позитивные тесты:
1. Happy Path дебетовой картой
Ожидаемый результат: данные введены, появляется всплывающее окно "Операция одобрена Банком", в СУБД появилась запись со статусом APPROVED
2. Happy Path в кредит
Ожидаемый результат: данные введены, появляется всплывающее окно "Операция одобрена Банком", в СУБД появилась запись со статусом APPROVED
Негативные тесты:
Для дебетовой карты и в кредит(необходимо прогнать тесты по двум разделам):
1. Отправка пустой формы
2. Номер карты:
* Пустое поле ввода номера карты
Ожидаемый результат: появляется сообщение об ошибке с красным шрифтом, заявка не отправляется
* Введен длинный номер(>16 символов)
Ожидаемый результат: дальнейшие символы не вводятся в поле ввода
* Введен короткий номер(<16 символов)
Ожидаемый результат: появляется сообщение об ошибке с красным шрифтом, заявка не отправляется
* Введен спец.символ
Ожидаемый результат: появляется сообщение об ошибке с красным шрифтом, заявка не отправляется
* Введена буква рус./лат. алфавита
Ожидаемый результат: появляется сообщение об ошибке с красным шрифтом, заявка не отправляется
* Введен номер карты, отсутствующий в БД
Ожидаемый результат: появляется сообщение об ошибке с красным шрифтом, заявка не отправляется

3. Месяц:
* Пустое поле ввода месяца
Ожидаемый результат: появляется сообщение об ошибке с красным шрифтом, заявка не отправляется
* Введен месяц без 0 перед числом <10
Ожидаемый результат: появляется сообщение об ошибке с красным шрифтом, заявка не отправляется
* Введен несуществующий месяц(<01 и >12)
Ожидаемый результат: появляется сообщение об ошибке с красным шрифтом, заявка не отправляется
* Введен спец.символ
Ожидаемый результат: появляется сообщение об ошибке с красным шрифтом, заявка не отправляется
* Введена буква рус./лат. алфавита
Ожидаемый результат: появляется сообщение об ошибке с красным шрифтом, заявка не отправляется
4. Год:
* Пустое поле ввода месяца
Ожидаемый результат: появляется сообщение об ошибке с красным шрифтом, заявка не отправляется
* Введен слишком длинный формат записи года (>2 символов)
Ожидаемый результат: дальнейшие символы не вводятся в поле ввода
* Введен год ранее текущего года  (<22)
Ожидаемый результат: появляется сообщение об ошибке с красным шрифтом, заявка не отправляется
* Введен год, истекающий позже 5 лет от текущего года (максимальный срок выдачи карты без замены)
Ожидаемый результат: появляется сообщение об ошибке с красным шрифтом, заявка не отправляется
* Введен спец.символ
Ожидаемый результат: появляется сообщение об ошибке с красным шрифтом, заявка не отправляется
* Введена буква рус./лат. алфавита
Ожидаемый результат: появляется сообщение об ошибке с красным шрифтом, заявка не отправляется
* Введен текущий год с прошедшим месяцем
Ожидаемый результат: появляется сообщение об ошибке с красным шрифтом, заявка не отправляется

5. Владелец:
* Пустое поле ввода владельца
Ожидаемый результат: появляется сообщение об ошибке с красным шрифтом, заявка не отправляется
* Введен владелец на русском языке
Ожидаемый результат: появляется сообщение об ошибке с красным шрифтом, заявка не отправляется
* Введен владелец одним словом
Ожидаемый результат: появляется сообщение об ошибке с красным шрифтом, заявка не отправляется
* Введен владелец тремя и более словами
Ожидаемый результат: появляется сообщение об ошибке с красным шрифтом, заявка не отправляется
* Введен спецсимвол
Ожидаемый результат: появляется сообщение об ошибке с красным шрифтом, заявка не отправляется
* Введена цифра
Ожидаемый результат: появляется сообщение об ошибке с красным шрифтом, заявка не отправляется
6. CVC/CVV:
* Отправка пустого поля
Ожидаемый результат: появляется сообщение об ошибке с красным шрифтом, заявка не отправляется
* Введено менее 3 символов
Ожидаемый результат: появляется сообщение об ошибке с красным шрифтом, заявка не отправляется
* Введено более 3 символов
Ожидаемый результат: дальнейшие символы не вводятся в поле ввода
* Введен спецсимвол
Ожидаемый результат: появляется сообщение об ошибке с красным шрифтом, заявка не отправляется
* Введена буква рус./лат. алфавита
Ожидаемый результат: появляется сообщение об ошибке с красным шрифтом, заявка не отправляется

# Перечень используемых инструментов с обоснованием выбора:
IntelliJ IDEA - среда разработки программного обеспечения для написания кода
JAVA (версия 11) - язык написания кода проекта
Git + GitHub - система контроля версий, позволяет фиксировать изменения в коде, быстро "откатить" изменения назад, сохранять предыдущие версии
Gradle - система автоматической сборки + отчетность
JUnit-5 - фреймворк для модульного тестирования ПО
Selenide - фреймворк для автоматизированного тестирования веб-приложений используя элементы страницы
Docker - ПО для автоматизации развёртывания и управления приложениями. В данном проекте используется для развертывания СУБД MySQL и PostgreSQL
Allure - фреймворк для создания отчётов автотестов

# Перечень и описание возможных рисков при автоматизации:
1. Длительная доработка необходимых сценариев для автоматизации
2. Неполнота документации, отсутствие точных требований
3. Затрудненный поиск локаторов элементов на страницах, т.к. возможно далеко не все имеют явные привязки
4. Настройка контейнеризации СУБД - возможны проблемы с запуском SUT
5. Отдельная проверка MySQL и Postgres - отсутствие опыта

Интервальная оценка с учётом рисков в часах:
1. Планирование автоматизации тестирования - 48ч + 24ч доработка
2. Непосредственно сама автоматизация - 120ч + 48ч доработка
3. Подготовка отчетных документов по итогам автоматизированного тестирования - 48ч
4. Подготовка отчетных документов по итогам автоматизации - 48ч

# План сдачи работ: 
1. Готовность авто-тестов - 14дн
2. Анализ результатов - 5дн
3. Отчет по итогам автоматизации - 5дн
